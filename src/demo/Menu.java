package demo;

import java.io.IOException;
import java.io.InputStreamReader;
import java.io.BufferedReader;

import mision.FormatException;
import mision.Mision;

public class Menu {

	public Menu() {

		System.out.println(separacion);
		System.out.println("Se recomienda maximizar la consola para una mejor experiencia.");
		System.out.println(separacion);
		System.out.println("\nPresione enter para continuar...");

		try {
			lector.readLine();
		} catch (IOException e1) {
			e1.printStackTrace();
		}

		System.out.println(dragon);
		System.out.println(separacion);
		System.out.println(titulo1 + "\n" + titulo2);
		System.out.println(separacion);
		System.out.println("Presiona enter cuando estes preparado para emprender esta aventura...");
		System.out.println(separacion);
		
		try {
			lector.readLine();
		} catch (IOException e1) {
			e1.printStackTrace();
		}
		
		interfaz();
	}

	private void interfaz() {

		System.out.println(
				"¿Donde sera nuestra mision?\nPor favor introduce el nombre del archivo. (por ejemplo, misiones/misionOriginal.txt)");
		System.out.println(separacion);

		String archivo = null;
		try {
			archivo = lector.readLine();
		} catch (IOException e1) {
			e1.printStackTrace();
		}

		Mision mision;

		try {
			mision = new Mision(archivo);

			System.out.println(bolaCristal);
			System.out.println(
					"\nNuestros hechiceros predeciran el destino de tu ejercito...\nSi se alzaran victoriosos o pereceran ante sus enemigos.\n");
			System.out.println(separacion);

			System.out.println("Presiona enter cuando estes preparado para emprender esta aventura.");
			lector.readLine();
			System.out.println(separacion);

			if (mision.esFactible()) {
				System.out.println(victoria);
				System.out.println("\n\n¡Felicidades!\n\nTu ejercito logro reconquistar y recuperar sus tierras.\n\n"
						+ mision.obtenerSobrevivientes() + " soldados sobrevivieron a esta epopeya que les llevo "
						+ mision.obtenerDiasTranscurridos() + " dias.\n\nAhora descansan en paz y armonia.\n");
				System.out.println(separacion);
			} else {
				System.out.println(derrota);
				System.out.println(
						"\nTu ejercito no tuvo suerte.\n\nLos superaban en numero y no lograron sobrevivir.\n");
				System.out.println(separacion);
			}

		} catch (IOException e) {

			System.err.println(e.getMessage());
			System.out.println(separacion);

		} catch (FormatException e) {

			System.err.println(e.getMessage());
			System.out.println(separacion);

		} catch (NumberFormatException e) {

			System.err.println(e.getMessage());
			System.out.println(separacion);

		} finally {
			try {
				System.out.println("Escribe 'salir' para finalizar o pulsa enter para predecir otra mision.");
				System.out.println(separacion);
				String opcion = lector.readLine();
				if (!opcion.toLowerCase().equals("salir")) {
					interfaz();
				}
			} catch (IOException e1) {
				e1.printStackTrace();
			}
		}
	}

	private String separacion = "- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -";

	private String bolaCristal = "  _  .     ____   . _\r\n" + "  - _   .-\" +' \"-.  -  _ \r\n"
			+ "  -    /.'.'..'*`.\\  . -\r\n" + "   _  |:.*'.:*:. ':|  _ \r\n" + " .    |:.'.*.:'.'*:| -  .\r\n"
			+ "   -   \\:~^~^~^~^:/ _  .\r\n" + "  -  _  /`-....-'\\    - \r\n" + "  .    /          \\  _  \r\n"
			+ "    .  `-.,____,.-' . - ";

	private String dragon = "                                                          ___\r\n"
			+ "                                                       .~))>>\r\n"
			+ "                                                      .~)>>\r\n"
			+ "                                                    .~))))>>>\r\n"
			+ "                                                  .~))>>             ___\r\n"
			+ "                                                .~))>>)))>>      .-~))>>  \r\n"
			+ "                                              .~)))))>>       .-~))>>)>\r\n"
			+ "                                            .~)))>>))))>>  .-~)>>)>\r\n"
			+ "                        )                 .~))>>))))>>  .-~)))))>>)>\r\n"
			+ "                     ( )@@*)             //)>))))))  .-~))))>>)>\r\n"
			+ "                   ).@(@@               //))>>))) .-~))>>)))))>>)>\r\n"
			+ "                 (( @.@).              //))))) .-~)>>)))))>>)>\r\n"
			+ "               ))  )@@*.@@ )          //)>))) //))))))>>))))>>)>\r\n"
			+ "            ((  ((@@@.@@             |/))))) //)))))>>)))>>)>\r\n"
			+ "           )) @@*. )@@ )   (\\_(\\-\\b  |))>)) //)))>>)))))))>>)>\r\n"
			+ "         (( @@@(.@(@ .    _/`-`  ~|b |>))) //)>>)))))))>>)>\r\n"
			+ "          )* @@@ )@*     (#) (#)  /\\b|))) //))))))>>))))>>\r\n"
			+ "        (( @. )@( @ .   _/       /  \\b)) //))>>)))))>>>_._\r\n"
			+ "         )@@ (@@*)@@.  (6,   6) / ^  \\b)//))))))>>)))>>   ~~-.\r\n"
			+ "      ( @jgs@@. @@@.*@_ ~^~^~, /\\  ^  \\b/)>>))))>>      _.     `,\r\n"
			+ "       ((@@ @@@*.(@@ .   \\^^^/' (  ^   \\b)))>>        .'         `,\r\n"
			+ "        ((@@).*@@ )@ )    `-'   ((   ^  ~)_          /             `,\r\n"
			+ "          (@@. (@@ ).           (((   ^    `\\        |               `.\r\n"
			+ "            (*.@*              / ((((        \\        \\      .         `.\r\n"
			+ "                              /   (((((  \\    \\    _.-~\\     Y,         ;\r\n"
			+ "                             /   / (((((( \\    \\.-~   _.`\" _.-~`,       ;\r\n"
			+ "                            /   /   `(((((()    )    (((((~      `,     ;\r\n"
			+ "                          _/  _/      `\"\"\"/   /'                  ;     ;\r\n"
			+ "                      _.-~_.-~           /  /'                _.-~   _.'\r\n"
			+ "                    ((((~~              / /'              _.-~ __.--~\r\n"
			+ "                                       ((((          __.-~ _.-~\r\n"
			+ "                                                   .'   .~~\r\n"
			+ "                                                   :    ,'\r\n"
			+ "                                                   ~~~~~\r\n" + "";

	private String victoria = "__________________________________________________\r\n"
			+ "_______________________1__________________________\r\n"
			+ "______________________11__________________________\r\n"
			+ "______________________111_________________________\r\n"
			+ "_____________________11111________________________\r\n"
			+ "_____________________11111____1___________________\r\n"
			+ "____________________1111111__11___________________\r\n"
			+ "____________________1111111__111__________________\r\n"
			+ "________________1__1111111111111__________________\r\n"
			+ "________________1111111111111111__________________\r\n"
			+ "________________11111111111111111_________________\r\n"
			+ "________________11111111111111111_________________\r\n"
			+ "_______________111111¶¶1111¶¶1111_________________\r\n"
			+ "_______________111111¶¶¶_¶¶¶11111_________________\r\n"
			+ "__________111__111111¶¶¶¶¶¶¶11111__11_____________\r\n"
			+ "___________1111111111¶¶¶¶¶¶¶_1111_111_____________\r\n"
			+ "___________111111111¶¶¶¶¶¶¶1¶11111111_____________\r\n"
			+ "___________111111111¶¶¶¶¶¶¶¶¶1111111______________\r\n"
			+ "____________1111¶¶11¶¶1¶¶¶¶¶¶1111111______________\r\n"
			+ "____________1111¶¶¶¶¶¶1¶¶¶¶¶11111111______________\r\n"
			+ "____________1111¶¶¶¶¶¶1¶¶¶¶¶1111111_______________\r\n"
			+ "_____________1111¶¶¶¶¶¶¶¶¶¶1111111________________\r\n"
			+ "_______________111¶¶¶¶¶¶¶1111111_¶¶¶¶¶¶___________\r\n"
			+ "_______1¶¶¶¶¶¶¶_1111¶¶11111111_1¶¶¶¶¶¶¶¶¶¶¶¶¶11___\r\n"
			+ "11¶¶¶¶¶¶¶¶¶¶¶¶¶¶111____1111111¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶\r\n"
			+ "¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶___¶¶¶1¶¶1____11¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶\r\n"
			+ "¶¶¶¶¶¶¶¶¶¶¶_______¶¶¶¶¶¶¶¶__________1¶¶¶¶¶¶¶¶¶¶¶¶¶\r\n"
			+ "¶¶¶¶¶¶1___________¶¶¶¶¶¶¶________________¶¶¶¶¶¶¶¶1\r\n"
			+ "¶¶¶_____________1¶¶¶¶¶¶¶¶____________________¶¶¶1_\r\n"
			+ "_______________¶¶¶¶¶¶¶¶¶__________________________\r\n"
			+ "______________¶¶¶¶¶¶¶¶¶¶__________________________\r\n" + "";

	private String derrota = "´´´´´´´´´´´´´´´´´´´ ¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´´´´`\r\n"
			+ "´´´´´´´´´´´´´´´´´¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´`´´´´´´´´´´´¶¶´´´´´´´´´´`\r\n"
			+ "´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´¶¶´¶¶´´´¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´¶¶´¶¶´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´¶¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶¶¶´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶´´´´´´´´´´´´´\r\n"
			+ "´´´´¶¶¶´´´´´´´¶¶´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´¶¶´´´´´´¶¶¶¶´´´\r\n"
			+ "´´´¶¶¶¶¶´´´´´¶¶´´´¶¶¶¶¶¶¶´´´¶¶¶´´´¶¶¶¶¶¶¶´´´¶¶´´´´´¶¶¶¶¶¶´´\r\n"
			+ "´´¶¶´´´¶¶´´´´¶¶´´´´´¶¶¶´´´´¶¶¶¶¶´´´´¶¶¶´´´´´¶¶´´´´¶¶´´´¶¶´´\r\n"
			+ "´¶¶¶´´´´¶¶¶¶´´¶¶´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´¶¶¶¶´´´´¶¶¶´\r\n"
			+ "¶¶´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´¶¶\r\n"
			+ "¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶¶´´´´´´¶¶¶¶¶¶¶¶\r\n"
			+ "´´¶¶¶¶´¶¶¶¶¶´´´´´´¶¶¶¶¶´´´´´´´´´´´´´´¶¶¶´¶¶´´´´´¶¶¶¶¶¶´¶¶¶´\r\n"
			+ "´´´´´´´´´´¶¶¶¶¶¶´´¶¶¶´´¶¶´´´´´´´´´´´¶¶´´¶¶¶´´¶¶¶¶¶¶´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´´¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶´´´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´´´´´´¶¶´¶¶´¶´¶´¶´¶´¶´¶´¶´¶´¶¶´´´´´´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´´´´´¶¶¶¶´´¶´¶´¶´¶´¶´¶´¶´¶´´´¶¶¶¶¶´´´´´´´´´´´´´´\r\n"
			+ "´´´´´´´´´´´´¶¶¶¶¶´¶¶´´´¶¶¶¶¶¶¶¶¶¶¶¶¶´´´¶¶´¶¶¶¶¶´´´´´´´´´´´´\r\n"
			+ "´´´´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶´´´´´´´´´´´´´´´´´¶¶´´´´´´¶¶¶¶¶¶¶¶¶´´´´\r\n"
			+ "´´´¶¶´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´´\r\n"
			+ "´´´´¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶´´´´\r\n"
			+ "´´´´´´¶¶´´´¶¶¶´´´´´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´´´´¶¶¶´´´¶¶´´´´´´\r\n"
			+ "´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´\r\n"
			+ "´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´\r\n" + "";

	private String titulo1 = "                    -__ /\\                                                 ,               |\\         \r\n"
			+ "                      || \\,                                      '        ||    _           \\\\        \r\n"
			+ "                     /|| /    _-_   _-_  /'\\\\ \\\\/\\\\  /'\\\\ \\\\ \\\\ \\\\  _-_, =||=  < \\, \\\\/\\\\  / \\\\  /'\\\\ \r\n"
			+ "                     \\||/-   || \\\\ ||   || || || || || || || || || ||_.   ||   /-|| || || || || || || \r\n"
			+ "                      ||  \\  ||/   ||   || || || || || || || || ||  ~ ||  ||  (( || || || || || || || \r\n"
			+ "                    _---_-|, \\\\,/  \\\\,/ \\\\,/  \\\\ \\\\ \\\\,|| \\\\/\\\\ \\\\ ,-_-   \\\\,  \\/\\\\ \\\\ \\\\  \\\\/  \\\\,/  \r\n"
			+ "                                                       ||                                             \r\n"
			+ "                                                       '`                                             ";

	private String titulo2 = ",,               ,                                    |\\                 /\\               ,                       \r\n"
			+ "||   _          ||   '                     _           \\\\               ||    _          ||    _          '   _   \r\n"
			+ "||  < \\,       =||= \\\\  _-_  ,._-_ ,._-_  < \\,        / \\\\  _-_        =||=  < \\, \\\\/\\\\ =||=  < \\,  _-_, \\\\  < \\, \r\n"
			+ "||  /-||        ||  || || \\\\  ||    ||    /-||       || || || \\\\        ||   /-|| || ||  ||   /-|| ||_.  ||  /-|| \r\n"
			+ "|| (( ||        ||  || ||/    ||    ||   (( ||       || || ||/          ||  (( || || ||  ||  (( ||  ~ || || (( || \r\n"
			+ "\\\\  \\/\\\\        \\\\, \\\\ \\\\,/   \\\\,   \\\\,   \\/\\\\        \\\\/  \\\\,/         \\\\,  \\/\\\\ \\\\ \\\\  \\\\,  \\/\\\\ ,-_-  \\\\  \\/\\\\ \r\n"
			+ "                                                                                                                  ";

	private BufferedReader lector = new BufferedReader(new InputStreamReader(System.in));
}
